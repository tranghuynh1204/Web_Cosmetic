<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: page_head('Sản phẩm')">
    <meta charset="UTF-8" />
    <title>Title</title>
</head>
<body>
<th:block th:replace="sidebar :: sidebar"></th:block>
<div id="main-content">
    <th:block th:replace="header :: header"></th:block>
    <div id="crumbs">
        <ul>
            <li>
                <a th:href="@{/}"><i class="fas fa-home"></i></a>
            </li>
            <li>
                <a>Sản phẩm</a>
            </li>
        </ul>
    </div>
    <main>
        <div class="row-search">
            <div id="search-bar">
                <form class="search-box" th:action="@{/categories/page/1}">
                    <div class="input-box">
                        <input type="hidden" name="nameDir" th:value="${nameDir}">
                        <input type="text" placeholder="Nhập tên danh mục..." name="name" id="input-search" th:value="${name}"/>
                    </div>
                    <div class="search-button">
                        <button style="background-color: rgba(0,0,0,0);border-radius:50%;border: none">
                            <img
                                    th:src="@{/images/search-icon.png}"
                                    alt="search"/>
                        </button>
                    </div>
                </form>
            </div>
            <a id="add-icon" th:href="@{'/categories/add'}">
                <img th:src="@{/images/add-icon.png}">
            </a>
            <a id="sort-icon"
               th:href="@{'/categories/page/' + ${currentPage} + '?nameDir=' + ${nameDir == 'asc' ? 'desc' : 'asc'} + ${name != null? '&name=' + name : ''}}">
                <img th:src="@{${nameDir == 'asc' ? '/images/asc-icon.png' : '/images/desc-icon.png'}}" alt="Icon">
            </a>
        </div>
        <table>
            <thead>
            <tr>
                <th>Name</th>
                <th>Image</th>
                <th>Brand</th>
                <th>Category</th>
            </tr>
            </thead>
            <tbody>
            <!-- Lặp qua danh sách các đối tượng và hiển thị thông tin của từng đối tượng trong bảng -->
            <tr th:each="productLine : ${productLines}">
                <td th:text="${productLine.name}"></td>
                <td><img th:src="${productLine.image}"></td>
                <td th:text="${productLine.brandName}"></td>
                <td th:text="${productLine.categoryName}"></td>
            </tr>
            </tbody>
        </table>
    </main>

    <div th:replace="fragments :: pagination('Sản phẩm','/products')"></div>
    <th:block th:replace="footer :: footer"></th:block>
</div>
</body>
</html>
